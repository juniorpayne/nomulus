[2025-06-03 08:26:44] Starting Terraform 6.37.0 Compatibility Test Suite
[2025-06-03 08:26:44] Test Results Directory: /home/junior/newdoc/nomulus/proxy/terraform/test-results
[2025-06-03 08:26:44] Log File: /home/junior/newdoc/nomulus/proxy/terraform/test-results/test_run_20250603_082644.log
[0;34m‚ÑπÔ∏è  Running test: Terraform Version Check[0m
[0;34m‚ÑπÔ∏è  Checking Terraform version compatibility...[0m
[0;34m‚ÑπÔ∏è  Checking Terraform version compatibility...[0m
[0;32m‚úÖ Terraform version 1.12.1 meets minimum requirement (1.0)[0m
[0;32m‚úÖ Terraform version 1.12.1 meets minimum requirement (1.0)[0m
[0;32m‚úÖ Terraform Version Check - PASSED[0m
[0;34m‚ÑπÔ∏è  Running test: Provider Version Validation[0m
[0;34m‚ÑπÔ∏è  Validating provider version constraints...[0m
[0;34m‚ÑπÔ∏è  Validating provider version constraints...[0m
[0;32m‚úÖ Provider version constraint found in example_config.tf[0m
[0;32m‚úÖ Provider version constraint found in example_config.tf[0m
[0;32m‚úÖ Provider version constraint found in modules/main.tf[0m
[0;32m‚úÖ Provider version constraint found in modules/main.tf[0m
[0;32m‚úÖ Provider Version Validation - PASSED[0m
[0;34m‚ÑπÔ∏è  Running test: Terraform Syntax Validation[0m
[0;34m‚ÑπÔ∏è  Validating Terraform syntax...[0m
[0;34m‚ÑπÔ∏è  Validating Terraform syntax...[0m
[0;34m‚ÑπÔ∏è  Initializing Terraform for validation...[0m
[0;34m‚ÑπÔ∏è  Initializing Terraform for validation...[0m
[0;32m‚úÖ Terraform formatting is correct[0m
[0;32m‚úÖ Terraform formatting is correct[0m
[32m[1mSuccess![0m The configuration is valid.
[0m
[0;32m‚úÖ Terraform syntax validation passed[0m
[0;32m‚úÖ Terraform syntax validation passed[0m
[0;32m‚úÖ Terraform Syntax Validation - PASSED[0m
[0;34m‚ÑπÔ∏è  Running test: Security Best Practices[0m
[0;34m‚ÑπÔ∏è  Validating security best practices...[0m
[0;34m‚ÑπÔ∏è  Validating security best practices...[0m
[0;32m‚úÖ GCS uniform bucket-level access enabled[0m
[0;32m‚úÖ GCS uniform bucket-level access enabled[0m
[0;32m‚úÖ GCS public access prevention enforced[0m
[0;32m‚úÖ GCS public access prevention enforced[0m
[0;32m‚úÖ Workload Identity configured[0m
[0;32m‚úÖ Workload Identity configured[0m
[0;32m‚úÖ Shielded nodes enabled[0m
[0;32m‚úÖ Shielded nodes enabled[0m
[0;32m‚úÖ Binary authorization configured[0m
[0;32m‚úÖ Binary authorization configured[0m
[0;32m‚úÖ Network policies enabled[0m
[0;32m‚úÖ Network policies enabled[0m
[0;32m‚úÖ KMS key rotation configured[0m
[0;32m‚úÖ KMS key rotation configured[0m
[0;32m‚úÖ Lifecycle protection enabled[0m
[0;32m‚úÖ Lifecycle protection enabled[0m
[0;32m‚úÖ Security Best Practices - PASSED[0m
[0;34m‚ÑπÔ∏è  Running test: Naming Conventions[0m
[0;34m‚ÑπÔ∏è  Validating resource naming conventions...[0m
[0;34m‚ÑπÔ∏è  Validating resource naming conventions...[0m
[0;32m‚úÖ Resource naming conventions validated[0m
[0;32m‚úÖ Resource naming conventions validated[0m
[0;32m‚úÖ Naming Conventions - PASSED[0m
[0;34m‚ÑπÔ∏è  Running test: Module Dependencies[0m
[0;34m‚ÑπÔ∏è  Validating module dependencies and outputs...[0m
[0;34m‚ÑπÔ∏è  Validating module dependencies and outputs...[0m
[0;32m‚úÖ GKE module outputs exist[0m
[0;32m‚úÖ GKE module outputs exist[0m
[0;32m‚úÖ Networking module outputs exist[0m
[0;32m‚úÖ Networking module outputs exist[0m
[0;32m‚úÖ Main module outputs exist[0m
[0;32m‚úÖ Main module outputs exist[0m
[0;32m‚úÖ Module Dependencies - PASSED[0m
[0;34m‚ÑπÔ∏è  Running test: Variable Validation[0m
[0;34m‚ÑπÔ∏è  Validating variable definitions and types...[0m
[0;34m‚ÑπÔ∏è  Validating variable definitions and types...[0m
[0;32m‚úÖ Required variable gcp_project_id defined[0m
[0;32m‚úÖ Required variable gcp_project_id defined[0m
[0;32m‚úÖ Required variable environment defined[0m
[0;32m‚úÖ Required variable environment defined[0m
[0;32m‚úÖ Required variable proxy_service_account_email defined[0m
[0;32m‚úÖ Required variable proxy_service_account_email defined[0m
[0;32m‚úÖ Required variable proxy_cluster_region defined[0m
[0;32m‚úÖ Required variable proxy_cluster_region defined[0m
[0;32m‚úÖ Modern map type constraints found[0m
[0;32m‚úÖ Modern map type constraints found[0m
[0;32m‚úÖ Variable Validation - PASSED[0m
[0;34m‚ÑπÔ∏è  Running test: Documentation Validation[0m
[0;34m‚ÑπÔ∏è  Validating documentation completeness...[0m
[0;34m‚ÑπÔ∏è  Validating documentation completeness...[0m
[0;32m‚úÖ Documentation file docs/PROVIDER_COMPATIBILITY_ANALYSIS.md exists[0m
[0;32m‚úÖ Documentation file docs/PROVIDER_COMPATIBILITY_ANALYSIS.md exists[0m
[0;32m‚úÖ Documentation file docs/EMERGENCY_RECOVERY_GUIDE.md exists[0m
[0;32m‚úÖ Documentation file docs/EMERGENCY_RECOVERY_GUIDE.md exists[0m
[0;32m‚úÖ Documentation file docs/STATE_BACKUP_PROCEDURES.md exists[0m
[0;32m‚úÖ Documentation file docs/STATE_BACKUP_PROCEDURES.md exists[0m
[0;32m‚úÖ Documentation Validation - PASSED[0m
[0;34m‚ÑπÔ∏è  Running test: Backup System Validation[0m
[0;34m‚ÑπÔ∏è  Validating backup and recovery system...[0m
[0;34m‚ÑπÔ∏è  Validating backup and recovery system...[0m
[0;32m‚úÖ Backup component scripts/backup_terraform_state.sh exists and is executable[0m
[0;32m‚úÖ Backup component scripts/backup_terraform_state.sh exists and is executable[0m
[0;32m‚úÖ Backup component scripts/restore_terraform_state.sh exists and is executable[0m
[0;32m‚úÖ Backup component scripts/restore_terraform_state.sh exists and is executable[0m
[0;32m‚úÖ Backup component scripts/validate_state_backup.sh exists and is executable[0m
[0;32m‚úÖ Backup component scripts/validate_state_backup.sh exists and is executable[0m
[0;32m‚úÖ Backup System Validation - PASSED[0m
[0;34m‚ÑπÔ∏è  Running test: Terraform Plan Test[0m
[0;34m‚ÑπÔ∏è  Testing Terraform plan generation...[0m
[0;34m‚ÑπÔ∏è  Testing Terraform plan generation...[0m
[0m[1mInitializing the backend...[0m
[0m[1mUpgrading modules...[0m
- proxy in modules
- proxy.proxy_gke_americas in modules/gke
- proxy.proxy_gke_apac in modules/gke
- proxy.proxy_gke_emea in modules/gke
- proxy.proxy_networking in modules/networking
- proxy.proxy_networking_canary in modules/networking
[31m‚ï∑[0m[0m
[31m‚îÇ[0m [0m[1m[31mError: [0m[0m[1mDuplicate required providers configuration[0m
[31m‚îÇ[0m [0m
[31m‚îÇ[0m [0m[0m  on test_config.tf line 3, in terraform:
[31m‚îÇ[0m [0m   3:   [4mrequired_providers[0m {[0m
[31m‚îÇ[0m [0m
[31m‚îÇ[0m [0mA module may have only one required providers configuration. The required
[31m‚îÇ[0m [0mproviders were previously configured at example_config.tf:4,3-21.
[31m‚ïµ[0m[0m
[0;31m‚ùå Terraform plan test failed[0m
[0;31m‚ùå Terraform plan test failed[0m
[0;31m‚ùå Terraform Plan Test - FAILED[0m
[2025-06-03 08:26:57] Cleaning up test artifacts...
